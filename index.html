<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced General Ledger | Pro Full-Stack Portfolio</title>
    
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #64748b;
            --success-color: #10b981;
            --danger-color: #ef4444;
            --warning-color: #f59e0b;
            --dark-navy: #0f172a;
            --light-bg: #f8fafc;
            --border-color: #e2e8f0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'IBM Plex Sans Arabic', sans-serif;
        }

        body {
            background-color: var(--light-bg);
            color: var(--dark-navy);
            line-height: 1.6;
            padding: 20px;
        }

        /* Container Layout */
        .dashboard-container {
            max-width: 1600px;
            margin: 0 auto;
        }

        /* Header Section */
        .main-header {
            background: linear-gradient(135deg, var(--dark-navy) 0%, #1e293b 100%);
            color: white;
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .main-header::after {
            content: '';
            position: absolute;
            top: 0; right: 0;
            width: 300px; height: 100%;
            background: rgba(255,255,255,0.05);
            transform: skewX(-20deg) translateX(100px);
        }

        .header-content h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .status-badge {
            background: var(--success-color);
            font-size: 0.75rem;
            padding: 5px 15px;
            border-radius: 50px;
            text-transform: uppercase;
        }

        /* Statistics Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 16px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.05);
            border-color: var(--primary-color);
        }

        .stat-label {
            color: var(--secondary-color);
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 10px;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            font-family: 'Tahoma', sans-serif;
        }

        /* Filters Section */
        .filter-panel {
            background: white;
            padding: 30px;
            border-radius: 16px;
            margin-bottom: 30px;
            border: 1px solid var(--border-color);
        }

        .filter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .input-group label {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--secondary-color);
        }

        .input-group select, .input-group input {
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 0.9rem;
            outline: none;
            transition: border 0.3s;
        }

        .input-group select:focus, .input-group input:focus {
            border-color: var(--primary-color);
            ring: 2px rgba(37, 99, 235, 0.1);
        }

        /* Action Buttons */
        .action-bar {
            margin-top: 25px;
            display: flex;
            gap: 15px;
            border-top: 1px solid var(--border-color);
            padding-top: 20px;
        }

        .btn {
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-primary { background: var(--primary-color); color: white; }
        .btn-success { background: var(--success-color); color: white; }
        .btn-outline { background: transparent; border: 1px solid var(--border-color); color: var(--secondary-color); }

        .btn:hover { opacity: 0.9; transform: scale(1.02); }

        /* Table Styling */
        .table-container {
            background: white;
            border-radius: 16px;
            border: 1px solid var(--border-color);
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.02);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            text-align: right;
        }

        thead th {
            background: #f8fafc;
            padding: 18px;
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--secondary-color);
            border-bottom: 2px solid var(--border-color);
        }

        tbody td {
            padding: 18px;
            border-bottom: 1px solid var(--border-color);
            font-size: 0.95rem;
        }

        .amt { font-family: 'Consolas', monospace; font-weight: 600; text-align: left; }
        .debit { color: var(--danger-color); }
        .credit { color: var(--success-color); }

        .vch-type {
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 0.8rem;
            background: #f1f5f9;
            font-weight: 500;
        }

        tr:hover { background-color: #f1f5f966; }

        /* Footer */
        .footer {
            margin-top: 50px;
            text-align: center;
            color: var(--secondary-color);
            font-size: 0.9rem;
            padding-bottom: 30px;
        }

        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        tbody tr { animation: fadeIn 0.3s ease-out forwards; }
    </style>
</head>
<body>

<div class="dashboard-container">
    <header class="main-header">
        <div class="header-content">
            <h1>
                ğŸ“Š Ù†Ø¸Ø§Ù… Ø¯ÙØªØ± Ø§Ù„Ø£Ø³ØªØ§Ø° Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ
                <span class="status-badge">Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…ØªØ·ÙˆØ±Ø© 2026</span>
            </h1>
            <p>Ù…Ù†ØµØ© ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø§Ù„Ø¶Ø®Ù…Ø© | Full-Stack & Automation Expert Portfolio</p>
        </div>
    </header>

    <div class="stats-grid">
        <div class="stat-card">
            <span class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</span>
            <span id="stat-count" class="stat-value">0</span>
        </div>
        <div class="stat-card" style="border-right: 4px solid var(--danger-color)">
            <span class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù…Ø¯ÙŠÙ† (Debit)</span>
            <span id="stat-debit" class="stat-value text-danger">0.00</span>
        </div>
        <div class="stat-card" style="border-right: 4px solid var(--success-color)">
            <span class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¯Ø§Ø¦Ù† (Credit)</span>
            <span id="stat-credit" class="stat-value text-success">0.00</span>
        </div>
        <div class="stat-card" style="border-right: 4px solid var(--primary-color)">
            <span class="stat-label">ØµØ§ÙÙŠ Ø§Ù„Ø±ØµÙŠØ¯ (Balance)</span>
            <span id="stat-balance" class="stat-value">0.00</span>
        </div>
    </div>

    <section class="filter-panel">
        <div class="filter-grid">
            <div class="input-group">
                <label>Ø§Ù„Ø´Ø±ÙƒØ©</label>
                <select id="f-company">
                    <option value="">ÙƒÙ„ Ø§Ù„Ø´Ø±ÙƒØ§Øª (Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ù‚Ø§Ø¨Ø¶Ø©)</option>
                </select>
            </div>
            <div class="input-group">
                <label>Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</label>
                <select id="f-account">
                    <option value="">ÙƒÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</option>
                </select>
            </div>
            <div class="input-group">
                <label>Ù…Ù† ØªØ§Ø±ÙŠØ®</label>
                <input type="date" id="f-from" value="2025-01-01">
            </div>
            <div class="input-group">
                <label>Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ®</label>
                <input type="date" id="f-to" value="2025-12-31">
            </div>
        </div>

        <div class="action-bar">
            <button class="btn btn-primary" onclick="UI.applyFilters()">ğŸ” ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
            <button class="btn btn-success" onclick="UI.generateNewMagicData()">ğŸª„ ØªÙˆÙ„ÙŠØ¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø¶Ø®Ù…Ø© (Ø¥Ø¨Ù‡Ø§Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„)</button>
            <button class="btn btn-outline" onclick="UI.exportCSV()">ğŸ“¥ ØªØµØ¯ÙŠØ± CSV</button>
        </div>
    </section>

    <div class="table-container">
        <table id="ledger-table">
            <thead>
                <tr>
                    <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                    <th>Ø§Ù„Ø­Ø³Ø§Ø¨</th>
                    <th>Ù†ÙˆØ¹ Ø§Ù„Ù‚ÙŠØ¯</th>
                    <th>Ø±Ù‚Ù… Ø§Ù„Ù…Ø±Ø¬Ø¹</th>
                    <th>Ø§Ù„Ø¬Ù‡Ø© / Ø§Ù„Ø·Ø±Ù</th>
                    <th>Ù…Ø¯ÙŠÙ† (+)</th>
                    <th>Ø¯Ø§Ø¦Ù† (-)</th>
                    <th>Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ</th>
                </tr>
            </thead>
            <tbody id="table-body">
                </tbody>
        </table>
    </div>

    <footer class="footer">
        Ø¨ÙˆØ§Ø³Ø·Ø© Ù…Ø¨Ø±Ù…Ø¬ Full-Stack Ù…Ø­ØªØ±Ù | Ø®Ø¨ÙŠØ± Ø£ØªÙ…ØªØ© Ø§Ù„Ø£Ù†Ø¸Ù…Ø© | 2026 &copy;
    </footer>
</div>

<script>
/**
 * Core Data Engine
 * Ù…Ø­Ø±Ùƒ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø­Ø±ÙŠ Ù„ØªÙˆÙ„ÙŠØ¯ Ø¢Ù„Ø§Ù Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„ÙˆØ§Ù‚Ø¹ÙŠØ©
 */
const DataEngine = {
    companies: ["Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„ÙØ·ÙŠÙ… Ø§Ù„Ø¯ÙˆÙ„ÙŠØ©", "Ø£Ø±Ø§Ù…ÙƒÙˆ Ù„Ù„Ø®Ø¯Ù…Ø§Øª", "Ø¥Ø¹Ù…Ø§Ø± Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠØ©", "Ø§Ù„Ù†Ø³Ø§Ø¬ÙˆÙ† Ø§Ù„Ø´Ø±Ù‚ÙŠÙˆÙ†", "ÙÙˆØ¯Ø§ÙÙˆÙ† Ù…ØµØ±", "Ø¨Ù†Ùƒ Ù…ØµØ±"],
    accounts: ["Ù†Ù‚Ø¯ÙŠØ© Ø¨Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚", "Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ Ø§Ù„Ø¯ÙˆÙ„ÙŠ", "Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ø¥Ù†ØªØ§Ø¬ Ø§Ù„ØªØ§Ù…", "Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª", "Ù…ØµØ±ÙˆÙØ§Øª Ø§Ù„Ø¹Ù…ÙˆÙ…ÙŠØ©", "Ø°Ù…Ù… Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†"],
    parties: ["Ø´Ø±ÙƒØ© Ø§Ù„Ù†ÙŠÙ„ Ù„Ù„ØªØ¬Ø§Ø±Ø©", "Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ø±Ø§Ø¬Ø­ÙŠ", "Ø¹Ù…Ù„Ø§Ø¡ ÙƒØ¨Ø§Ø± Ø§Ù„Ø³Ù†", "Ù…ÙˆØ±Ø¯Ùˆ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø®Ø§Ù…", "Ø£Ù…Ø§Ù†Ø© Ø§Ù„Ø¬Ù…Ø§Ø±Ùƒ"],
    vouchers: ["Sales Invoice", "Payment Entry", "Journal Entry", "Purchase Invoice", "Credit Note"],

    generate(count = 100) {
        let data = [];
        for (let i = 0; i < count; i++) {
            const debit = Math.random() > 0.6 ? Math.floor(Math.random() * 100000) : 0;
            const credit = debit === 0 ? Math.floor(Math.random() * 80000) : 0;
            
            data.push({
                id: i + 1,
                date: this.randomDate(new Date(2025, 0, 1), new Date(2025, 11, 30)),
                company: this.companies[Math.floor(Math.random() * this.companies.length)],
                account: this.accounts[Math.floor(Math.random() * this.accounts.length)],
                vType: this.vouchers[Math.floor(Math.random() * this.vouchers.length)],
                vNo: `REF-${2025}-${1000 + i}`,
                party: this.parties[Math.floor(Math.random() * this.parties.length)],
                debit: debit,
                credit: credit
            });
        }
        return data.sort((a, b) => new Date(a.date) - new Date(b.date));
    },

    randomDate(start, end) {
        return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime())).toISOString().split('T')[0];
    }
};

/**
 * UI Controller
 * Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠØ© Ø¨Ø¯Ù‚Ø© 100%
 */
const UI = {
    currentData: [],

    init() {
        // ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø©
        this.fillDropdown('f-company', DataEngine.companies);
        this.fillDropdown('f-account', DataEngine.accounts);
        
        // ØªÙˆÙ„ÙŠØ¯ Ø£ÙˆÙ„ Ø¯ÙØ¹Ø© Ø¨ÙŠØ§Ù†Ø§Øª
        this.generateNewMagicData();
    },

    fillDropdown(id, items) {
        const select = document.getElementById(id);
        items.forEach(item => {
            const opt = document.createElement('option');
            opt.value = item;
            opt.innerHTML = item;
            select.appendChild(opt);
        });
    },

    generateNewMagicData() {
        // ØªÙˆÙ„ÙŠØ¯ 500 Ù‚ÙŠØ¯ ÙƒØ¨Ø¯Ø§ÙŠØ© Ù„Ø¥Ø¨Ù‡Ø§Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø¨Ø§Ù„Ø³Ø±Ø¹Ø©
        this.currentData = DataEngine.generate(500);
        this.applyFilters();
    },

    applyFilters() {
        const company = document.getElementById('f-company').value;
        const account = document.getElementById('f-account').value;
        const from = document.getElementById('f-from').value;
        const to = document.getElementById('f-to').value;

        const filtered = this.currentData.filter(d => {
            return (!company || d.company === company) &&
                   (!account || d.account === account) &&
                   (d.date >= from && d.date <= to);
        });

        this.renderTable(filtered);
    },

    renderTable(data) {
        const tbody = document.getElementById('table-body');
        tbody.innerHTML = '';
        
        let runningBalance = 0;
        let totalDebit = 0;
        let totalCredit = 0;

        data.forEach(row => {
            runningBalance += (row.debit - row.credit);
            totalDebit += row.debit;
            totalCredit += row.credit;

            const tr = document.createElement('tr');
            tr.innerHTML = `
                <td>${row.date}</td>
                <td style="font-weight:600">${row.account}</td>
                <td><span class="vch-type">${row.vType}</span></td>
                <td style="color:var(--primary-color)">${row.vNo}</td>
                <td>${row.party}</td>
                <td class="amt debit">${row.debit > 0 ? row.debit.toLocaleString() : '-'}</td>
                <td class="amt credit">${row.credit > 0 ? row.credit.toLocaleString() : '-'}</td>
                <td class="amt" style="color: ${runningBalance >= 0 ? 'var(--success-color)' : 'var(--danger-color)'}">
                    ${runningBalance.toLocaleString()}
                </td>
            `;
            tbody.appendChild(tr);
        });

        // ØªØ­Ø¯ÙŠØ« ÙƒØ±ÙˆØª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        document.getElementById('stat-count').innerText = data.length;
        document.getElementById('stat-debit').innerText = totalDebit.toLocaleString();
        document.getElementById('stat-credit').innerText = totalCredit.toLocaleString();
        document.getElementById('stat-balance').innerText = runningBalance.toLocaleString();
    },

    exportCSV() {
        let csv = "Ø§Ù„ØªØ§Ø±ÙŠØ®,Ø§Ù„Ø­Ø³Ø§Ø¨,Ø§Ù„Ù†ÙˆØ¹,Ø§Ù„Ù…Ø±Ø¬Ø¹,Ø§Ù„Ø¬Ù‡Ø©,Ù…Ø¯ÙŠÙ†,Ø¯Ø§Ø¦Ù†\n";
        this.currentData.forEach(r => {
            csv += `${r.date},${r.account},${r.vType},${r.vNo},${r.party},${r.debit},${r.credit}\n`;
        });
        const blob = new Blob(["\ufeff" + csv], { type: 'text/csv;charset=utf-8;' });
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = "ledger_report_pro.csv";
        link.click();
    }
};

// ØªØ´ØºÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…
window.onload = () => UI.init();

</script>

</body>
</html>
